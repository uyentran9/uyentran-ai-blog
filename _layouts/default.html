<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  
  <!-- SEO -->
  {% seo %}
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  
  <!-- MathJax for mathematical notation -->
  {% if site.mathjax or page.mathjax %}
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true
      },
      TeX: {
        equationNumbers: { autoNumber: "AMS" }
      }
    });
  </script>
  {% endif %}
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="{{ '/assets/images/favicon.ico' | relative_url }}">
  
  <!-- RSS Feed -->
  {% feed_meta %}
</head>
<body>
  <!-- Dark mode toggle button -->
  <button class="theme-toggle" aria-label="Toggle dark mode">ðŸŒ™</button>
  
  <!-- Header -->
  <header>
    <h1 class="site-title"><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
    <p class="site-subtitle">{{ site.subtitle }}</p>
    
    <nav>
      <ul>
        <li><a href="{{ '/' | relative_url }}">Home</a></li>
        <li><a href="{{ '/blog/' | relative_url }}">Blog</a></li>
        <li><a href="{{ '/publications/' | relative_url }}">Publications</a></li>
        <li><a href="{{ '/about/' | relative_url }}">About</a></li>
      </ul>
    </nav>
  </header>
  
  <!-- Main content -->
  <main>
    {{ content }}
  </main>
  
  <!-- Footer -->
  <footer>
    <p>&copy; {{ 'now' | date: "%Y" }} {{ site.title }}. Built with <a href="https://jekyllrb.com/">Jekyll</a>.</p>
    <p>
      {% if site.github_username %}
        <a href="https://github.com/{{ site.github_username }}" target="_blank">GitHub</a> â€¢
      {% endif %}
      {% if site.twitter_username %}
        <a href="https://twitter.com/{{ site.twitter_username }}" target="_blank">Twitter</a> â€¢
      {% endif %}
      <a href="{{ '/feed.xml' | relative_url }}">RSS</a>
    </p>
  </footer>
  
  <!-- Back to top button -->
  <a href="#" class="back-to-top">â†‘</a>
  
  <!-- JavaScript -->
  <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
</body>
</html>
